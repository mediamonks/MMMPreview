<!DOCTYPE html>
<html lang="en">
  <head>
    <title>MMMPreview  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="MMMPreview  Reference"></a>

    <header class="header">
      <a href="https://media.monks.com">
        <img src="img/logo.png" srcset="img/logo@2x.png 2x" alt="Media.Monks" class="header-logo" />
      </a>
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">MMMPreview Reference</a>
      <img class="carat" src="img/carat.png" alt=""/>
      MMMPreview  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Array.html">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UIView.html">UIView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UIViewController.html">UIViewController</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MMMControllerPreviewParsable.html">MMMControllerPreviewParsable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MMMPreviewContextParsable.html">MMMPreviewContextParsable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MMMViewPreviewParsable.html">MMMViewPreviewParsable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMControllerPreviewBuilder.html">MMMControllerPreviewBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMPreviewContext.html">MMMPreviewContext</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMPreviewContext/Layout.html">– Layout</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMPreviewContext/ColorMode.html">– ColorMode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMPreviewContextBuilder.html">MMMPreviewContextBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMViewPreviewBuilder.html">MMMViewPreviewBuilder</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <h1 id='mmmpreview' class='heading'>MMMPreview</h1>

<p><a href="https://github.com/mediamonks/MMMPreview/actions?query=workflow%3ABuild"><img src="https://github.com/mediamonks/MMMPreview/workflows/Build/badge.svg" alt="Build"></a></p>

<p>UIKit previews in your Xcode canvas. Leverages the SwiftUI preview window, but
displaying your <code>UIView</code>s / <code>UIViewController</code>s.</p>

<p>Having a preview of your <code>UIView</code> while developing is a real time saver, especially
when strictly using programmatic UI (like all the cool kids do).</p>

<p>(This is a part of <code>MMMTemple</code> suite of iOS libraries we use at
<a href="https://www.mediamonks.com/">MediaMonks</a>.)</p>
<h2 id='installation' class='heading'>Installation</h2>

<p>SPM:</p>
<pre class="highlight swift"><code><span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/mediamonks/MMMPreview"</span><span class="p">,</span> <span class="o">.</span><span class="nf">upToNextMajor</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="s">"0.3.0"</span><span class="p">))</span>
</code></pre>

<p>Podfile:</p>
<pre class="highlight ruby"><code><span class="n">source</span> <span class="s1">'https://github.com/mediamonks/MMMSpecs.git'</span>
<span class="n">source</span> <span class="s1">'https://github.com/CocoaPods/Specs.git'</span>
<span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">pod</span> <span class="s1">'MMMPreview'</span>
</code></pre>
<h2 id='preview' class='heading'>Preview</h2>

<p>This is a regular old <code>UIViewController</code> being previewed using <code>MMMPreview</code>:</p>

<p><img src="https://raw.githubusercontent.com/mediamonks/MMMPreview/main/Example.png" alt="Xcode Preview"></p>
<h2 id='usage' class='heading'>Usage</h2>

<p>The library itself has a minimum deployment target of iOS 11 to be compatible with the majority of projects,
however, it requires at least an iOS 13 simulator. For &lt; iOS 13 projects, use the <code>@available(iOS 13, *)</code>
tag where referincing <code>MMMPreview</code>.</p>
<h3 id='simple-example' class='heading'>Simple example</h3>

<p>The easiest setup would be to just add the preview provider struct at the bottom of your UIView(controller)
file.</p>

<p><strong>UIViewController</strong></p>
<pre class="highlight swift"><code><span class="cp">#if canImport(MMMPreview)</span>

<span class="kd">import</span> <span class="kt">MMMPreview</span>

<span class="kd">@available(iOS 13, *)</span> <span class="c1">// Tag if your project is &lt; iOS 13.</span>
<span class="kd">internal</span> <span class="kd">struct</span> <span class="kt">MyViewController_Previews</span><span class="p">:</span> <span class="kt">MMMControllerPreview</span><span class="p">,</span> <span class="kt">PreviewProvider</span> <span class="p">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="k">var</span> <span class="nv">previewViewControllers</span><span class="p">:</span> <span class="kt">MMMControllerPreviewParsable</span> <span class="p">{</span>

        <span class="c1">// Setup your ViewController instance, e.g. with a ViewModel.</span>
        <span class="c1">// We can either return a single UIViewController instance or an array of</span>
        <span class="c1">// controllers.</span>
        <span class="kt">MyViewController</span><span class="p">(</span>
            <span class="nv">viewModel</span><span class="p">:</span> <span class="kt">MyMockViewModel</span><span class="p">(</span><span class="nv">variation</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="c1">// Since it's a resultBuilder; you can use the SwiftUI syntax, no array's needed.</span>
        <span class="kt">MyViewController</span><span class="p">(</span>
            <span class="nv">viewModel</span><span class="p">:</span> <span class="kt">MyMockViewModel</span><span class="p">(</span><span class="nv">variation</span><span class="p">:</span> <span class="o">.</span><span class="n">alternate</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="c1">// You can even do if/else statements.</span>
        <span class="k">if</span> <span class="n">foo</span> <span class="p">{</span>
            <span class="kt">OtherViewController</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">#endif</span>
</code></pre>

<p><strong>UIView</strong></p>
<pre class="highlight swift"><code><span class="cp">#if canImport(MMMPreview)</span>

<span class="kd">import</span> <span class="kt">MMMPreview</span>

<span class="kd">@available(iOS 13, *)</span> <span class="c1">// Tag if your project is &lt; iOS 13.</span>
<span class="kd">internal</span> <span class="kd">struct</span> <span class="kt">MyView_Previews</span><span class="p">:</span> <span class="kt">MMMViewPreview</span><span class="p">,</span> <span class="kt">PreviewProvider</span> <span class="p">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="k">var</span> <span class="nv">previewViews</span><span class="p">:</span> <span class="kt">MMMViewPreviewParsable</span> <span class="p">{</span>

        <span class="c1">// Setup your View instance, e.g. with a ViewModel.</span>
        <span class="kt">MyView</span><span class="p">(</span><span class="nv">viewModel</span><span class="p">:</span> <span class="kt">MyMockViewModel</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">condition</span> <span class="p">{</span>
            <span class="kt">MyView</span><span class="p">(</span><span class="nv">viewModel</span><span class="p">:</span> <span class="kt">OtherMockViewModel</span><span class="p">())</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">#endif</span>
</code></pre>
<h3 id='more-detailed-example' class='heading'>More detailed example</h3>

<p>By default the preview will use the current selected simulator; however, it&rsquo;s usually nice to check your views
for multiple screen sizes. You can provide the <code>MMMControllerPreview</code> / <code>MMMViewPreview</code> with different
<code><a href="Structs/MMMPreviewContext.html">MMMPreviewContext</a></code>s, this can be done project-wide or per preview.</p>

<p><strong>Project</strong></p>
<pre class="highlight swift"><code><span class="cp">#if canImport(MMMPreview)</span>

<span class="kd">import</span> <span class="kt">MMMPreview</span>

<span class="kd">@available(iOS 13, *)</span>
<span class="kd">extension</span> <span class="kt">MMMControllerPreview</span> <span class="p">{</span>

    <span class="c1">// For project-wide extensions, we need the @MMMPreviewContextBuilder wrapper.</span>
    <span class="kd">@MMMPreviewContextBuilder</span> <span class="kd">public</span> <span class="kd">static</span> <span class="k">var</span> <span class="nv">context</span><span class="p">:</span> <span class="kt">MMMPreviewContextParsable</span> <span class="p">{</span>
        <span class="c1">// We can use the same SwiftUI syntax here.</span>
        <span class="kt">MMMPreviewContext</span><span class="p">(</span>
            <span class="nv">displayName</span><span class="p">:</span> <span class="s">"iPhone SE"</span><span class="p">,</span> <span class="c1">// Will be shown as preview title, not necesary.</span>
            <span class="c1">// The simulator name should exactly match.</span>
            <span class="nv">layout</span><span class="p">:</span> <span class="o">.</span><span class="nf">simulator</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"iPhone SE (1st generation)"</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="kt">MMMPreviewContext</span><span class="p">(</span>
            <span class="nv">displayName</span><span class="p">:</span> <span class="s">"iPhone 11"</span><span class="p">,</span> <span class="c1">// Will be shown as preview title.</span>
            <span class="nv">layout</span><span class="p">:</span> <span class="o">.</span><span class="nf">simulator</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"iPhone 11"</span><span class="p">),</span>
            <span class="nv">scheme</span><span class="p">:</span> <span class="o">.</span><span class="n">dark</span> <span class="c1">// Dark / light mode.</span>
        <span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">@available(iOS 13, *)</span>
<span class="kd">extension</span> <span class="kt">MMMViewPreview</span> <span class="p">{</span>

    <span class="c1">// For project-wide extensions, we need the @MMMPreviewContextBuilder wrapper.</span>
    <span class="kd">@MMMPreviewContextBuilder</span> <span class="kd">public</span> <span class="kd">static</span> <span class="k">var</span> <span class="nv">context</span><span class="p">:</span> <span class="kt">MMMPreviewContextParsable</span> <span class="p">{</span>
        <span class="kt">MMMPreviewContext</span><span class="p">(</span>
            <span class="c1">// A custom width / height for your preview.</span>
            <span class="nv">layout</span><span class="p">:</span> <span class="o">.</span><span class="nf">custom</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">320</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">300</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="kt">MMMPreviewContext</span><span class="p">(</span>
            <span class="nv">layout</span><span class="p">:</span> <span class="o">.</span><span class="nf">custom</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">480</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">120</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">#endif</span>
</code></pre>

<p><strong>Preview</strong></p>
<pre class="highlight swift"><code><span class="cp">#if canImport(MMMPreview)</span>

<span class="kd">import</span> <span class="kt">MMMPreview</span>

<span class="kd">@available(iOS 13, *)</span> <span class="c1">// Tag if your project is &lt; iOS 13.</span>
<span class="kd">internal</span> <span class="kd">struct</span> <span class="kt">MyView_Previews</span><span class="p">:</span> <span class="kt">MMMViewPreview</span><span class="p">,</span> <span class="kt">PreviewProvider</span> <span class="p">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="k">var</span> <span class="nv">previewViews</span><span class="p">:</span> <span class="kt">MMMViewPreviewParsable</span> <span class="p">{</span>

        <span class="c1">// We can also provide multiple views, e.g. for when testing multiple states at once.</span>

        <span class="kt">MyView</span><span class="p">(</span><span class="nv">viewModel</span><span class="p">:</span> <span class="kt">MyMockViewModel</span><span class="p">(</span><span class="nv">state</span><span class="p">:</span> <span class="o">.</span><span class="n">one</span><span class="p">))</span>
        <span class="kt">MyView</span><span class="p">(</span><span class="nv">viewModel</span><span class="p">:</span> <span class="kt">MyMockViewModel</span><span class="p">(</span><span class="nv">state</span><span class="p">:</span> <span class="o">.</span><span class="n">two</span><span class="p">))</span>
        <span class="kt">MyView</span><span class="p">(</span><span class="nv">viewModel</span><span class="p">:</span> <span class="kt">MyMockViewModel</span><span class="p">(</span><span class="nv">state</span><span class="p">:</span> <span class="o">.</span><span class="n">three</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">state</span> <span class="o">==</span> <span class="o">.</span><span class="n">one</span> <span class="p">{</span>
            <span class="kt">OtherView</span><span class="p">()</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="kt">MyView</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// This overrides the project-wide contexts.</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="k">var</span> <span class="nv">context</span><span class="p">:</span> <span class="kt">MMMPreviewContextParsable</span> <span class="p">{</span>
        <span class="kt">MMMPreviewContext</span><span class="p">(</span>
            <span class="nv">layout</span><span class="p">:</span> <span class="o">.</span><span class="nf">custom</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">140</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">#endif</span>
</code></pre>
<h2 id='ready-for-liftoff' class='heading'>Ready for liftoff? 🚀</h2>

<p>We&rsquo;re always looking for talent. Join one of the fastest-growing rocket ships in
the business. Head over to our <a href="https://media.monks.com/careers">careers page</a>
for more info!</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2022 <a class="link" href="https://github.com/mediamonks/MMMPreview" target="_blank" rel="external noopener">MediaMonks</a>. All rights reserved. (Last updated: 2022-04-26)</p>
      <p></p>
    </section>
  </body>
</html>
